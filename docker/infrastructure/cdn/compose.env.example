# =============================================================================
# CDN ENVIRONMENT VARIABLES - COMPREHENSIVE EXAMPLE
# =============================================================================
# Complete configuration options for custom CDN service (Nginx-based)
# Serves Web Awesome, Font Awesome, and other static assets locally

# -----------------------------------------------------------------------------
# System Configuration
# -----------------------------------------------------------------------------
# Installation Root Path
INSTALL_ROOT=${DANGERPREP_INSTALL_ROOT:-/opt/dangerprep}

# Timezone Configuration
TZ={{TZ}}

# Note: CDN service does not support PUID/PGID environment variables
# Container runs with its own internal user management

# -----------------------------------------------------------------------------
# CDN Configuration
# -----------------------------------------------------------------------------

# CDN domain name - the domain where your CDN will be accessible
CDN_DOMAIN=cdn.danger

# CDN port (internal container port)
CDN_PORT=80

# CDN HTTPS port
CDN_HTTPS_PORT=443

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------
# Cache max age for static assets (1 year in seconds)
CACHE_MAX_AGE=31536000

# Cache control for different file types
CACHE_CSS_MAX_AGE=31536000
CACHE_JS_MAX_AGE=31536000
CACHE_FONT_MAX_AGE=31536000
CACHE_IMAGE_MAX_AGE=31536000

# Enable gzip compression
CDN_GZIP_ENABLED=true

# Gzip compression level (1-9)
CDN_GZIP_LEVEL=6

# Enable brotli compression
CDN_BROTLI_ENABLED=true

# -----------------------------------------------------------------------------
# Content Configuration
# -----------------------------------------------------------------------------
# Web Awesome version
WEB_AWESOME_VERSION=2.0.0

# Font Awesome version
FONT_AWESOME_VERSION=6.5.0

# Enable directory listings
CDN_DIRECTORY_LISTING=true

# Default index files
CDN_INDEX_FILES=index.html,index.htm

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Enable HTTPS
CDN_HTTPS_ENABLED=false

# SSL certificate path
CDN_SSL_CERT=/certs/cdn.crt

# SSL private key path
CDN_SSL_KEY=/certs/cdn.key

# Enable HSTS (HTTP Strict Transport Security)
CDN_HSTS_ENABLED=false

# HSTS max age (in seconds)
CDN_HSTS_MAX_AGE=31536000

# Security headers
CDN_SECURITY_HEADERS=true

# CORS configuration
CDN_CORS_ENABLED=true
CDN_CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
# Worker processes (auto = number of CPU cores)
CDN_WORKER_PROCESSES=auto

# Worker connections per process
CDN_WORKER_CONNECTIONS=1024

# Keepalive timeout (seconds)
CDN_KEEPALIVE_TIMEOUT=65

# Client max body size
CDN_CLIENT_MAX_BODY_SIZE=1m

# Send timeout
CDN_SEND_TIMEOUT=60s

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Access log format
CDN_ACCESS_LOG_FORMAT=combined

# Error log level (debug, info, notice, warn, error, crit, alert, emerg)
CDN_ERROR_LOG_LEVEL=warn

# Enable access logs
CDN_ACCESS_LOG_ENABLED=true

# Access log path
CDN_ACCESS_LOG_PATH=/var/log/nginx/access.log

# Error log path
CDN_ERROR_LOG_PATH=/var/log/nginx/error.log

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Enable rate limiting
CDN_RATE_LIMIT_ENABLED=false

# Rate limit (requests per second)
CDN_RATE_LIMIT_RPS=10

# Rate limit burst
CDN_RATE_LIMIT_BURST=20

# Rate limit zone size
CDN_RATE_LIMIT_ZONE_SIZE=10m

# -----------------------------------------------------------------------------
# Content Delivery Configuration
# -----------------------------------------------------------------------------
# Enable HTTP/2
CDN_HTTP2_ENABLED=true

# Enable server push
CDN_SERVER_PUSH_ENABLED=false

# Expires headers for different content types
CDN_EXPIRES_CSS=1y
CDN_EXPIRES_JS=1y
CDN_EXPIRES_FONTS=1y
CDN_EXPIRES_IMAGES=1y

# -----------------------------------------------------------------------------
# Monitoring Configuration
# -----------------------------------------------------------------------------
# Enable status page
CDN_STATUS_ENABLED=false

# Status page path
CDN_STATUS_PATH=/nginx_status

# Enable metrics collection
CDN_METRICS_ENABLED=false

# -----------------------------------------------------------------------------
# Advanced Configuration
# -----------------------------------------------------------------------------
# Custom nginx configuration directory
CDN_CUSTOM_CONFIG_DIR=/etc/nginx/conf.d

# Enable real IP module
CDN_REAL_IP_ENABLED=false

# Real IP header
CDN_REAL_IP_HEADER=X-Forwarded-For

# Trusted proxies
CDN_TRUSTED_PROXIES=192.168.0.0/16,172.16.0.0/12,10.0.0.0/8

# -----------------------------------------------------------------------------
# Development/Debug Configuration
# -----------------------------------------------------------------------------
# Enable debug mode
CDN_DEBUG=false

# Enable stub status
CDN_STUB_STATUS=false

# Test configuration on startup
CDN_TEST_CONFIG=true
