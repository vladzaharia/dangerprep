# =============================================================================
# ONEDEV ENVIRONMENT VARIABLES - COMPREHENSIVE EXAMPLE
# =============================================================================
# Complete configuration options for OneDev Git server with CI/CD and packages
# Reference: https://docs.onedev.io/tutorials/clustering/run-as-docker

# -----------------------------------------------------------------------------
# System Configuration
# -----------------------------------------------------------------------------
# Installation Root Path
INSTALL_ROOT=${DANGERPREP_INSTALL_ROOT:-/opt/dangerprep}

# Timezone Configuration
TZ={{TZ}}

# User/Group IDs for file permissions
PUID=1337
PGID=1337

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# GENERATE[24]: PostgreSQL database password
POSTGRES_PASSWORD=change_me_db_password

# Database connection settings (automatically configured)
# hibernate_dialect=io.onedev.server.persistence.PostgreSQLDialect
# hibernate_connection_driver_class=org.postgresql.Driver
# hibernate_connection_url=jdbc:postgresql://postgres:5432/onedev
# hibernate_connection_username=onedev
# hibernate_connection_password=${POSTGRES_PASSWORD}

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# HTTP port for web interface (default: 6610)
HTTP_PORT=6610

# SSH port for Git operations (default: 3022)
SSH_PORT=3022

# Cluster port for server communication (default: 5710)
CLUSTER_PORT=5710

# Server URL (will be configured after initial setup)
# SERVER_URL=https://dev.danger

# SSH root URL (will be configured after initial setup)
# SSH_ROOT_URL=ssh://dev.danger:6611

# -----------------------------------------------------------------------------
# Clustering Configuration (Optional)
# -----------------------------------------------------------------------------
# Cluster IP address (for multi-server setups)
# CLUSTER_IP=192.168.1.100

# Container hostname (for cluster identification)
# HOSTNAME=onedev-server-1

# -----------------------------------------------------------------------------
# Email Configuration (Optional)
# -----------------------------------------------------------------------------
# SMTP host
SMTP_HOST={{SMTP_HOST}}

# SMTP port
SMTP_PORT={{SMTP_PORT}}

# SMTP username
SMTP_USER={{SMTP_USER}}

# SMTP password
SMTP_PASSWORD={{SMTP_PASSWORD}}

SMTP_TLS=true

# Email from address
SMTP_FROM={{SMTP_FROM}}

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
# Git LFS storage path (inside container)
# LFS_STORAGE_PATH=/opt/onedev/lfs

# Artifact storage path (inside container)
# ARTIFACT_STORAGE_PATH=/opt/onedev/artifacts

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Enable/disable anonymous access
# ANONYMOUS_ACCESS=false

# Session timeout (in minutes)
# SESSION_TIMEOUT=30

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
# JVM heap size settings
# JAVA_OPTS=-Xmx2g -Xms1g

# Database connection pool settings
# DB_POOL_MIN_SIZE=5
# DB_POOL_MAX_SIZE=20

# -----------------------------------------------------------------------------
# Advanced Configuration
# -----------------------------------------------------------------------------
# Enable debug logging
# DEBUG=false

# Custom configuration directory
# CONFIG_DIR=/opt/onedev/conf

# Custom log directory
# LOG_DIR=/opt/onedev/logs
