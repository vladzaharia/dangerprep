# =============================================================================
# KIWIX-SYNC ENVIRONMENT VARIABLES - COMPREHENSIVE EXAMPLE
# =============================================================================
# Complete configuration options for Kiwix-Sync service (Manager + Serve)

# -----------------------------------------------------------------------------
# System Configuration
# -----------------------------------------------------------------------------
# Installation Root Path
INSTALL_ROOT=${DANGERPREP_INSTALL_ROOT:-/opt/dangerprep}

# Node.js environment
NODE_ENV=production

# Timezone Configuration
TZ={{TZ}}

# User/Group IDs for file permissions
PUID=1000
PGID=1000

# -----------------------------------------------------------------------------
# Kiwix-Serve Configuration
# -----------------------------------------------------------------------------
# Port for Kiwix-Serve
KIWIX_PORT=80

# Library file path
KIWIX_LIBRARY_FILE=/data/library.xml

# Data directory for ZIM files
KIWIX_DATA_DIR=/data/zim

# Bind address
KIWIX_BIND_ADDRESS=0.0.0.0

# Enable CORS
KIWIX_CORS=true

# Maximum number of concurrent connections
KIWIX_MAX_CONNECTIONS=100

# Enable verbose logging
KIWIX_VERBOSE=false

# Default language for Kiwix-Serve
KIWIX_DEFAULT_LANGUAGE=en

# Enable search functionality
KIWIX_SEARCH_ENABLED=true

# Enable search suggestions
KIWIX_SUGGESTIONS_ENABLED=true

# -----------------------------------------------------------------------------
# Kiwix Manager Configuration
# -----------------------------------------------------------------------------
# Configuration file path
CONFIG_FILE=/app/data/config.yaml

# Sync interval (in hours)
SYNC_INTERVAL=24

# Enable automatic sync on startup
SYNC_ON_STARTUP=true

# Maximum concurrent downloads
MAX_CONCURRENT_DOWNLOADS=3

# Download timeout (in seconds)
DOWNLOAD_TIMEOUT=3600

# Retry attempts for failed downloads
RETRY_ATTEMPTS=3

# Retry delay (in seconds)
RETRY_DELAY=300

# -----------------------------------------------------------------------------
# Content Selection
# -----------------------------------------------------------------------------
# Languages to sync (comma-separated ISO codes)
SYNC_LANGUAGES=en,es,fr

# Content categories to sync
SYNC_CATEGORIES=wikipedia,wiktionary,wikivoyage

# Minimum content size (in MB)
MIN_CONTENT_SIZE=100

# Maximum content size (in MB)
MAX_CONTENT_SIZE=10000

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
# Storage path for ZIM files
ZIM_STORAGE_PATH=/data/zim

# Temporary download directory
TEMP_DOWNLOAD_DIR=/tmp/kiwix-downloads

# Maximum storage usage (in GB)
MAX_STORAGE_GB=100

# Enable compression for older files
ENABLE_COMPRESSION=false

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
# Kiwix download mirror
KIWIX_MIRROR=https://download.kiwix.org

# User agent for downloads
USER_AGENT=DangerPrep-KiwixSync/1.0

# Connection timeout (in seconds)
CONNECTION_TIMEOUT=30

# Enable proxy support
HTTP_PROXY=
HTTPS_PROXY=

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (text, json)
LOG_FORMAT=text

# Log file path
LOG_FILE=/app/logs/kiwix-sync.log

# Enable rotation of log files
LOG_ROTATION=true

# Maximum log file size (in MB)
LOG_MAX_SIZE=10

# Number of log files to keep
LOG_BACKUP_COUNT=5

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# Health check port
HEALTH_CHECK_PORT=8080

# Health check path
HEALTH_CHECK_PATH=/health

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
# Worker threads for processing
WORKER_THREADS=2

# Memory limit (in MB)
MEMORY_LIMIT=512

# Enable caching
ENABLE_CACHING=true

# Cache directory
CACHE_DIR=/app/cache

# Cache expiry (in hours)
CACHE_EXPIRY=24

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# API key for authentication (if required)
API_KEY=

# Enable SSL verification
SSL_VERIFY=true

# Custom CA certificate path
CA_CERT_PATH=

# -----------------------------------------------------------------------------
# Development/Debug Configuration
# -----------------------------------------------------------------------------
# Enable debug mode
DEBUG_MODE=false

# Enable verbose logging
VERBOSE_LOGGING=false

# Dry run mode (don't actually download)
DRY_RUN=false

# Test mode
TEST_MODE=false

# -----------------------------------------------------------------------------
# Metrics and Monitoring Configuration
# -----------------------------------------------------------------------------
# Enable metrics collection
METRICS_ENABLED=false

# Metrics server port
METRICS_PORT=9090

# Metrics endpoint path
METRICS_PATH=/metrics

# -----------------------------------------------------------------------------
# Notification Configuration
# -----------------------------------------------------------------------------
# Enable notifications
NOTIFICATIONS_ENABLED=false

# Webhook URL for notifications
NOTIFICATION_WEBHOOK_URL=

# Events to trigger notifications (comma-separated)
NOTIFICATION_EVENTS=sync_complete,sync_error

# -----------------------------------------------------------------------------
# Integration Configuration
# -----------------------------------------------------------------------------
# PROMPT[password]: Plex Media Server token (for integration)
PLEX_TOKEN=your-plex-token
