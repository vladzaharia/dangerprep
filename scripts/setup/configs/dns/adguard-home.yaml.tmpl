# AdGuard Home Configuration for DangerPrep
# Host-based installation for Olares compatibility

http:
  pprof:
    port: 6060
    enabled: false
  address: 0.0.0.0
  port: 3000
users:
  - name: admin
    password: {{ADGUARD_PASSWORD_HASH}}
auth_attempts: 5
block_auth_min: 15
http_proxy: ""
language: en
theme: auto
debug_pprof: false
web_session_ttl: 720
dns:
  bind_hosts:
    - 0.0.0.0
  port: 53
  anonymize_client_ip: false
  protection_enabled: true
  blocking_mode: default
  blocking_ipv4: ""
  blocking_ipv6: ""
  blocked_response_ttl: 10
  parental_block_host: family-block.dns.adguard.com
  safebrowsing_block_host: standard-block.dns.adguard.com
  ratelimit: 20
  ratelimit_whitelist: []
  refuse_any: true
  upstream_dns:
    - 45.90.28.0#nextdns-ultralow
    - 45.90.30.0#nextdns-ultralow
    - 1.1.1.1
    - 1.0.0.1
  upstream_dns_file: ""
  bootstrap_dns:
    - 9.9.9.10
    - 149.112.112.10
    - 2620:fe::10
    - 2620:fe::fe:10
  all_servers: false
  fastest_addr: false
  fastest_timeout: 1s
  allowed_clients: []
  disallowed_clients: []
  blocked_hosts:
    - version.bind
    - id.server
    - hostname.bind
  trusted_proxies:
    - 127.0.0.0/8
    - ::1/128
  cache_size: 4194304
  cache_ttl_min: 0
  cache_ttl_max: 0
  cache_optimistic: false
  bogus_nxdomain: []
  aaaa_disabled: false
  enable_dnssec: false
  edns_client_subnet:
    custom_ip: ""
    enabled: false
    use_custom: false
  max_goroutines: 300
  handle_ddr: true
  ipset: []
  ipset_file: ""
  filtering:
    protection_enabled: true
    filtering_enabled: true
    blocking_mode: default
    blocked_response_ttl: 10
    parental_enabled: false
    safebrowsing_enabled: false
    safesearch_enabled: false
    safesearch_cache_size: 1048576
    safesearch_cache_ttl: 1800
    rewrites: []
    blocked_services: []
    upstream_timeout: 10s
    private_networks: []
    use_private_ptr_resolvers: true
    local_ptr_upstreams: []
    use_dns64: false
    dns64_prefixes: []
    serve_http3: false
    use_http3_upstreams: false
  clients:
    runtime_sources:
      whois: true
      arp: true
      rdns: true
      dhcp: true
      hosts: true
    persistent: []
  log_file: ""
  log_max_backups: 0
  log_max_size: 100
  log_max_age: 3
  log_compress: false
  log_localtime: false
  verbose: false
  querylog:
    enabled: true
    file_enabled: true
    interval: 2160h
    size_memory: 1000
    ignored: []
  stats:
    enabled: true
    interval: 24h
    ignored: []
  filters:
    - enabled: true
      url: https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt
      name: AdGuard DNS filter
      id: 1
    - enabled: true
      url: https://adaway.org/hosts.txt
      name: AdAway Default Blocklist
      id: 2
    - enabled: true
      url: https://v.firebog.net/hosts/AdguardDNS.txt
      name: AdGuard DNS
      id: 3
    - enabled: true
      url: https://raw.githubusercontent.com/DandelionSprout/adfilt/master/Alternate%20versions%20Anti-Malware%20List/AntiMalwareAdGuardHome.txt
      name: Dandelion Sprout's Anti-Malware List
      id: 4
  whitelist_filters: []
  user_rules:
    - "@@||danger^$important"
    - "||danger^$dnsrewrite=NOERROR;A;{{LAN_IP}}"
    - "@@||*.danger^$important"
    - "||*.danger^$dnsrewrite=NOERROR;A;{{LAN_IP}}"
  dhcp:
    enabled: false
  schema_version: 20
